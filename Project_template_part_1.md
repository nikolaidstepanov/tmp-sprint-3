Это шаблон для решения **первой части** проектной работы. Структура этого файла повторяет структуру заданий. Заполняйте его по мере работы над решением.

# Задание 1. Анализ и планирование

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании условия задания. Это нормально.

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут включить или выключить отопление — контроллер предоставляет методы `/turn-on` и `/turn-off`
- Система поддерживает включение и выключение отопления на датчике — истема работает с сущностью `HeatingSystem`, которая хранит состояние
- Система поддерживает хранение информации о статусе отопления (включено/выключено) — поле `isOn` в `HeatingSystem` подтверждает это
- Система логирует все действия (включение/выключение отопления) — подтверждается наличием логирования через `logger.info`


**Мониторинг температуры:**

- Пользователи могут получить значение текущей температуры — метод `/current-temperature` в контроллере предоставляет эту возможность
- Пользователи могут установить новую температуру — метод `/set-temperature` позволяет это сделать
- Система поддерживает запрос и отправку данных о температуре через датчик — реализация полагается на currentTemperature в `HeatingSystem`
- Система поддерживает хранение информации о текущей температуре и о целевой температуре, которую задает пользователь, а также о дате ее изменения — поля `currentTemperature` и `targetTemperature` в `HeatingSystem` это подтверждают


### 2. Анализ архитектуры монолитного приложения

- Язык программирования: Java 17
- Фреймворк: Spring Boot
- База данных: Postgres 13 (используется JPA/Hibernate)
- Способ взаимодействия: JSON/HTTP (синхронный)
- Структура: Слоеная архитектура (контроллеры, сервисы, репозитории, сущности)
- Хранение данных: JPA-сущности, автоматическое обновление схемы базы данных
- Логирование: Используется SLF4J для логирования операций
- Документация API: Swagger
- Тестирование: Модульные тесты с использованием JUnit, Testcontainers
- Развертывание: Docker-контейнеры

### 3. Определение доменов и границы контекстов

Домены:
- Домен управления климатом

Поддомен:
- Поддомен взаимодейсвтия с пользователем
- Поддомен управления датчиком

Контекст:
- Контекст управления отоплением (включение/выключение, поддержание статуса системы)
- Контекст управления температурой (измерение, установка, передача данных)

### **4. Проблемы монолитного решения**

1.	Масштабирование и отказоустойчивость:
    - Слабая масштабируемость из-за использования слоевой архитектуры
    - Синхронное взаимодействие и высокая связанность модулей: сбой в одном компоненте может привести к сбою всей системы
    - Отсутствие отказоустойчивости: нет механизмов обработки отказов или деградации
    - Сервер — узкое место: Центральный сервер обрабатывает все запросы, что может стать критической точкой
    - Узкое место в базе данных: одна база данных без шардирования или репликации становится критическим узлом при увеличении нагрузки
2.	Данные и функциональность:
    - Избыточность в модели данных: дублирование поля `currentTemperature` в `HeatingSystem` и `TemperatureSensor`
    - Отсутствие подтверждений выполнения команд
    - Отсутствие автоматического регулирования температуры
    - Отсутствие функциональности для хранения и анализа исторических данных
    - Отсутствие поддержки асинхронных событий: Датчики не могут самостоятельно отправлять данные о температуре в реальном времени
3.	Разработка и эксплуатация:
    - Длительные циклы разработки и развёртывания: команда разработки работает над одним большим приложением, что вызывает задержки
    - Сложность тестирования: изменения в одной части приложения требуют пересмотра тестов для всего монолита
    - Зависимость от текущей версии приложения: Каждое обновление или изменение версии требует адаптации всей системы
4.	Интеграция и взаимодействие с пользователями:
    - Ограниченная интеграция с внешними системами (умные устройства других производителей)
    - Ручная настройка системы: Пользователи не могут самостоятельно подключить устройства, что делает процесс дорогим и неудобным, то есть пользоватли полностью зависят от специалистов компании для настройки

### 5. Визуализация контекста системы — диаграмма С4

[Диаграма контекста](https://drive.google.com/file/d/1sX_2FqWVP6WbsQ_NnNF1FvuslTrBJsrn/view?usp=sharing). Также файл `draw.io` можно посмореть в директории docs.

# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

Добавьте диаграмму.

**Диаграмма компонентов (Components)**

Добавьте диаграмму для каждого из выделенных микросервисов.

**Диаграмма кода (Code)**

Добавьте одну диаграмму или несколько.

# Задание 3. Разработка ER-диаграммы

Добавьте сюда ER-диаграмму. Она должна отражать ключевые сущности системы, их атрибуты и тип связей между ними.